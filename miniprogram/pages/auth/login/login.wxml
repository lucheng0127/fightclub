<!-- Login Page -->
<view class="login-page">
  <view class="login-container">
    <image class="logo" src="/images/logo.png" mode="aspectFit" />

    <view class="title">FightClub</view>
    <view class="subtitle">拳击手与拳馆信息平台</view>

    <!-- 授权登录界面 -->
    <view class="auth-section" wx:if="{{!showNicknameInput}}">
      <button
        class="btn-auth"
        bindtap="onGetUserInfo"
        loading="{{loading}}"
      >
        授权登录
      </button>

      <view class="tips">
        <text class="tip-text">• 授权后请设置您的昵称</text>
        <text class="tip-text">• 请使用真实昵称，不要使用默认昵称</text>
        <text class="tip-text">• 禁止使用的昵称：微信用户、游客等</text>
      </view>
    </view>

    <!-- 昵称输入界面 -->
    <view class="nickname-section" wx:if="{{showNicknameInput}}">
      <view class="nickname-title">请输入您的昵称</view>
      <view class="nickname-form">
        <input
          class="nickname-input"
          placeholder="请输入昵称（必填）"
          value="{{nickname}}"
          bindinput="onNicknameInput"
          maxlength="20"
        />
        <view class="nickname-count">{{nickname.length}}/20</view>
      </view>

      <button
        class="btn-submit"
        bindtap="onSubmitNickname"
        loading="{{loading}}"
        disabled="{{!nickname || nickname.trim() === ''}}"
      >
        完成
      </button>
    </view>
  </view>
</view>
