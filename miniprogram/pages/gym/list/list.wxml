<!-- æ‹³é¦†åˆ—è¡¨é¡µ -->
<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="stats">
      <view class="stat-item">
        <text class="stat-value">{{totalCount}}</text>
        <text class="stat-label">å®¶æ‹³é¦†</text>
      </view>
    </view>
    <text class="title">æµè§ˆæ‹³é¦†</text>
  </view>

  <!-- ç­›é€‰æ  -->
  <view class="filters">
    <view class="filter-row">
      <input
        class="filter-input"
        placeholder="åŸå¸‚ï¼ˆé€‰å¡«ï¼‰"
        value="{{filters.city}}"
        bindinput="onCityInput"
      />
    </view>
    <view class="filter-actions">
      <button class="filter-btn secondary" bindtap="onClearFilters">æ¸…ç©º</button>
      <button class="filter-btn primary" bindtap="onApplyFilters">åº”ç”¨ç­›é€‰</button>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading && list.length === 0}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{!loading && list.length === 0}}">
    <text class="empty-icon">ğŸ¢</text>
    <text class="empty-text">{{hasFilters ? 'æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ‹³é¦†' : 'æš‚æ— æ‹³é¦†æ•°æ®'}}</text>
  </view>

  <!-- æ‹³é¦†åˆ—è¡¨ -->
  <view class="list" wx:if="{{list.length > 0}}">
    <view class="card" wx:for="{{list}}" wx:key="gym_id" bindtap="onCardTap" data-id="{{item.gym_id}}">
      <view class="card-avatar">ğŸ¢</view>
      <view class="card-info">
        <view class="card-name">{{item.name}}</view>
        <view class="card-details">
          <view class="card-detail-item" wx:if="{{item.city}}">
            <text>{{item.city}}</text>
          </view>
          <view class="card-detail-item distance" wx:if="{{item.distance}}">
            <text>{{item.distance}}</text>
          </view>
        </view>
        <view class="card-boxers" wx:if="{{item.boxer_count > 0}}">
          <text>{{item.boxer_count}} ä½æ‹³æ‰‹</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view class="load-more" wx:if="{{list.length > 0 && has_more && !loading}}">
    <button class="load-more-btn" bindtap="onLoadMore">åŠ è½½æ›´å¤š</button>
  </view>
  <view class="load-more" wx:if="{{loading && list.length > 0}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>
