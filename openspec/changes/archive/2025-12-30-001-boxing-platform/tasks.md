# 001-boxing-platform 实现任务清单

## 1. 基础设施与授权 (P1)

- [x] 1.1 初始化微信小程序项目结构和云开发环境
- [x] 1.2 配置云数据库集合（users、boxers、gyms）
- [x] 1.3 实现用户信息授权获取（昵称、头像）
- [x] 1.4 实现位置授权获取
- [x] 1.5 实现角色选择页面和逻辑
- [x] 1.6 实现单角色自动进入逻辑
- [x] 1.7 实现 OpenID 存储与隐私保护（不得暴露到前端）

## 2. 拳手档案管理 (P1)

- [x] 2.1 创建拳手档案表单页面（身高、体重、性别、昵称、出生日期必填）
- [x] 2.2 实现拳手档案表单验证
- [x] 2.3 实现拳手档案云函数（创建、读取、更新）
- [x] 2.4 实现可选字段（战绩、城市、所属拳馆、联系电话）
- [x] 2.5 实现性别和出生日期的不可修改限制
- [x] 2.6 实现拳手档案编辑页面

## 3. 拳馆档案管理 (P2)

- [x] 3.1 创建拳馆档案表单页面（名称、地址、定位、电话必填）
- [x] 3.2 实现拳馆档案表单验证
- [x] 3.3 实现地图选点或自动定位功能
- [x] 3.4 实现拳馆档案云函数（创建、读取、更新）
- [x] 3.5 实现拳馆图标上传功能（可选）
- [x] 3.6 实现拳馆档案编辑页面

## 4. 发现与筛选 (P1)

- [x] 4.1 创建拳手列表页面（显示总数）
- [x] 4.2 创建拳馆列表页面（显示总数）
- [x] 4.3 实现拳手筛选功能（城市、年龄范围、体重范围）
- [x] 4.4 实现拳馆筛选功能（城市、距离排序）
- [x] 4.5 实现距离计算（基于用户位置）
- [x] 4.6 实现筛选条件清除功能
- [x] 4.7 优化列表加载性能（支持大数据量）

## 5. 详情查看 (P2)

- [x] 5.1 创建拳手详情页面（完整档案信息）
- [x] 5.2 创建拳馆详情页面（完整档案信息）
- [x] 5.3 实现可选字段的显示处理（隐藏或标记为未填写）
- [x] 5.4 实现年龄自动计算（基于出生日期）

## 6. 数据安全与事务 (P1)

- [x] 6.1 确保所有云函数返回数据不包含原始 OpenID
- [x] 6.2 实现多数据库操作的事务保护
- [x] 6.3 实现用户数据的匿名化标识

## 7. 测试与优化 (P2)

- [ ] 7.1 测试授权流程的各种场景（拒绝授权、单角色、双角色）
- [ ] 7.2 测试档案创建和编辑的各种边界情况
- [ ] 7.3 测试筛选功能的准确性
- [ ] 7.4 性能测试（10000 拳手 + 1000 拳馆数据量）
- [ ] 7.5 验证距离计算精度（100米内）
