# 数据库集合创建说明

## 需要在微信云开发控制台手动创建的集合

### 1. gym_slots（拳馆场地时间段）

**创建方式**: 在微信开发者工具 → 云开发 → 数据库 → 添加集合

**索引配置**:
- 复合索引: `gym_id` + `date` + `status`
- 复合索引: `date` + `status`
- 唯一索引: `slot_id`

### 2. slot_bookings（预约记录）

**索引配置**:
- 复合索引: `slot_id` + `status`
- 复合索引: `boxer_id` + `status`

### 3. notifications（消息通知）

**索引配置**:
- 复合索引: `recipient_user_id` + `is_read`
- 单字段索引: `created_at`

## 注意事项

1. 创建集合后不需要添加记录，云函数会自动创建数据
2. 索引可以在集合创建后添加
3. 集合权限可以设置为"仅创建者可读写"或"自定义安全规则"
